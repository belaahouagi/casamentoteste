<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casamento de Larissa e Iury</title>
    <link href="https://fonts.googleapis.com/css2?family=Bryndan+Write&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="root">
        <!-- Header/Navigation -->
        <header class="header">
            <nav class="navbar">
                <div class="navbar-brand">
                    <span class="brand-text">Larissa & Iury</span>
                </div>
                <div class="nav-menu">
                    <button class="nav-button">HOME</button>
                    <button class="nav-button">O CASAL</button>
                    <button class="nav-button">CERIM√îNIA</button>
                    <button class="nav-button">RECEP√á√ÉO</button>
                    <button class="nav-button">LISTA DE PRESENTES</button>
                    <button class="nav-button">CONFIRME SUA PRESEN√áA</button>
                    <button class="nav-button">RECADOS</button>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Larissa <span class="ampersand">&</span> Iury</h1>
                <p class="hero-date">8 de Agosto de 2026</p>
                <p class="hero-text">Criamos este site para compartilhar com voc√™s os detalhes da organiza√ß√£o do nosso casamento. Estamos muito felizes e contamos com a presen√ßa de todos no nosso grande dia!</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary">Confirmar Presen√ßa</button>
                    <button class="btn btn-secondary">Ver Presentes</button>
                </div>
            </div>
            <div class="hero-side">
                <div class="hero-card">
                    <div class="heart-icon">‚ù§Ô∏è</div>
                    <h3 class="card-title">Nosso Grande Dia</h3>
                    <p class="card-date">8 de Agosto de 2026</p>
                </div>
            </div>
        </section>

        <!-- O Casal Section -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">O Casal</h2>
                <p class="section-text">Hist√≥rias de amor existem, e, √†s vezes, nem n√≥s mesmos acreditamos todo o tempo que j√° estamos juntos. Por√©m, o brilho intenso e apaixonado dos nossos olhares nos fazem lembrar o porqu√™ de chegarmos at√© aqui sem sentir tanto o tempo passar. Vamos nos casar! Estamos preparando tudo com muito carinho para curtirmos cada momento com nossos amigos e familiares queridos!</p>
            </div>
        </section>

        <!-- Cerim√¥nia Section -->
        <section class="section ceremony-section">
            <div class="container">
                <h2 class="section-title">Cerim√¥nia</h2>
                <p class="section-text">Gostar√≠amos muito de contar com a presen√ßa de todos voc√™s no momento em que nossa uni√£o ser√° aben√ßoada diante de Deus! A cerim√¥nia ser√° r√°pida e tentaremos ser extremamente pontuais. Contamos com voc√™s!</p>
                
                <div class="details-grid">
                    <div class="detail-card">
                        <div class="detail-icon">üìÖ</div>
                        <h4 class="detail-label">Data</h4>
                        <p class="detail-value">8 de Agosto de 2026</p>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">üïñ</div>
                        <h4 class="detail-label">Hor√°rio</h4>
                        <p class="detail-value">18h00</p>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">üìç</div>
                        <h4 class="detail-label">Local</h4>
                        <p class="detail-value">Pra√ßa Nossa Sra. do Brasil - Jardim Paulista, S√£o Paulo - SP</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recep√ß√£o Section -->
        <section class="section reception-section">
            <div class="container">
                <h2 class="section-title">Recep√ß√£o</h2>
                <p class="section-text">O casal convida para recep√ß√£o no dia 8 de Agosto de 2026. Ser√° um momento especial para celebrar com todos voc√™s!</p>
                
                <div class="details-grid">
                    <div class="detail-card">
                        <div class="detail-icon">üìÖ</div>
                        <h4 class="detail-label">Data</h4>
                        <p class="detail-value">8 de Agosto de 2026</p>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">üïñ</div>
                        <h4 class="detail-label">Hor√°rio</h4>
                        <p class="detail-value">A partir das 19h00</p>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">üìç</div>
                        <h4 class="detail-label">Local</h4>
                        <p class="detail-value">Sal√£o de Festas - S√£o Paulo, SP</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lista de Presentes Section -->
        <section class="section gifts-section">
    <div class="container">
        <h2 class="section-title">Lista de Presentes</h2>

        <div id="gifts-list" class="gifts-grid"></div>

        <p class="section-text">
            Para nos presentear, escolha qualquer item da Lista de Casamento.
        </p>
    </div>
</section>

        <!-- Confirme sua Presen√ßa Section -->
        <section class="section rsvp-section">
            <div class="container">
                <h2 class="section-title">Confirme sua Presen√ßa</h2>
                <p class="section-text">√â importante confirmar sua presen√ßa. Preencha o formul√°rio abaixo com seus dados.</p>
                <button class="btn btn-secondary">Preencher Formul√°rio</button>
            </div>
        </section>

        <!-- Deixe seu Recado Section -->
        <section class="section messages-section">
            <div class="container">
                <h2 class="section-title">Deixe seu Recado</h2>
                <p class="section-text">Deixe uma mensagem especial para o casal!</p>
                <button class="btn btn-secondary">Enviar Recado</button>
            </div>
        </section>
    </div>

<script>
/* =========================
   CONFIGURA√á√ïES
========================= */

const SHEETS_URL =
  'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMOXxCgbTiCkB6YKsJiI59OCt_bUvU5XyCEsmhujItFUTdLDmw9_fuOYnLbbOGVVCmQsgbTXcWsw4D/pub?output=csv';

const API_URL =
  'https://script.google.com/macros/s/AKfycbx9ib0NdOgV4NTL6MBbyboFaVvoK4GHn571TRvSOYFaR7XYGua6_HhhXJ5XZjoJt1xB/exec';

/* =========================
   CARREGAR PRESENTES
========================= */

fetch(SHEETS_URL)
  .then(res => res.text())
  .then(csv => {
    const lines = csv.trim().split('\n');
    const headers = lines.shift().split(',');

    const giftsContainer = document.getElementById('gifts-list');
    giftsContainer.innerHTML = '';

    lines.forEach(line => {
      const values = line.split(',');

      const data = Object.fromEntries(
        headers.map((h, i) => [h.trim(), values[i]?.trim()])
      );

      const ativo = data.ativo === 'TRUE';

      const card = document.createElement('div');
      card.className = 'gift-card';

      card.innerHTML = `
        <img src="images/${data.imagem}" class="gift-image" alt="${data.nome}">
        <h3 class="gift-title">${data.nome}</h3>
        <p class="gift-description">${data.descricao}</p>
        <p class="gift-price">R$ ${parseFloat(data.preco).toFixed(2)}</p>
      `;

      const btn = document.createElement('button');
      btn.className = 'btn btn-primary';
      btn.textContent = ativo
        ? 'Comprar este presente'
        : 'Presente indispon√≠vel';

      btn.disabled = !ativo;

      btn.onclick = () => comprarPresente(data);

      card.appendChild(btn);
      giftsContainer.appendChild(card);
    });
  })
  .catch(err => {
    console.error('Erro ao carregar presentes:', err);
  });

/* =========================
   COMPRAR PRESENTE
========================= */

function comprarPresente(data) {
  const pessoa = prompt('Digite seu nome:');
  if (!pessoa) return;

  const mensagem =
    prompt('Deixe uma mensagem para os noivos (opcional):') || '';

  const url =
    API_URL +
    '?action=create-payment' +
    '&id=' + encodeURIComponent(data.id) +
    '&pessoa=' + encodeURIComponent(pessoa) +
    '&mensagem=' + encodeURIComponent(mensagem);

  // redireciona direto para o Apps Script
  // que cria o pagamento e manda para o Mercado Pago
  window.location.href = url;
}
</script>
</body>
</html>
